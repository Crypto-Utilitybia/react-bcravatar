(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1050:function(module,exports){},1292:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(135)},1780:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(527),__webpack_require__(540),__webpack_require__(1784),__webpack_require__(1785),__webpack_require__(894),__webpack_require__(896),__webpack_require__(1786),__webpack_require__(1787),__webpack_require__(1788);var _home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(176),_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1818),_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_logger__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2),_home_levan_work_BlockchainAvatar_react_bcravatar_storybook_config_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(554);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(_home_levan_work_BlockchainAvatar_react_bcravatar_storybook_config_js__WEBPACK_IMPORTED_MODULE_12__).forEach((function(key){var value=_home_levan_work_BlockchainAvatar_react_bcravatar_storybook_config_js__WEBPACK_IMPORTED_MODULE_12__[key];switch(key){case"args":case"argTypes":return _home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_logger__WEBPACK_IMPORTED_MODULE_11__.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.d)(loader,!1)}));case"parameters":return Object(_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.b)(enhancer)}));case"render":return Object(_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_10__.setGlobalRender)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(_home_levan_work_BlockchainAvatar_react_bcravatar_node_modules_storybook_client_api__WEBPACK_IMPORTED_MODULE_9__.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},1794:function(module,exports,__webpack_require__){var map={"./BCRAvatar/stories.js":1816,"./BCRProfile/stories.js":1817};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1794},1816:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(351);var _templateObject,react=__webpack_require__(1),styled_components_browser_esm=__webpack_require__(354),client=__webpack_require__(135),constants=(__webpack_require__(903),__webpack_require__(540),__webpack_require__(904),__webpack_require__(905),__webpack_require__(906),__webpack_require__(907),__webpack_require__(527),__webpack_require__(912),__webpack_require__(913),__webpack_require__(548),__webpack_require__(917),__webpack_require__(350),__webpack_require__(550),__webpack_require__(918),__webpack_require__(919),__webpack_require__(91)),jsx_runtime=__webpack_require__(22),_excluded=["infura","network","address","className","placeholder","children"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useBCRAvatar(_ref2){var infura=_ref2.infura,network=_ref2.network,address=_ref2.address,_useState2=_slicedToArray(Object(react.useState)(null),2),web3=_useState2[0],setWeb3=_useState2[1],_useState4=_slicedToArray(Object(react.useState)([null,!1]),2),avatar=_useState4[0],setAvatar=_useState4[1];return Object(react.useEffect)((function(){if(infura&&constants.b[network]){var provider="object"!=typeof infura&&constants.c[network]?""+constants.c[network]+infura:infura;web3?web3.setProvider(provider):Promise.all([__webpack_require__.e(3),__webpack_require__.e(4)]).then(__webpack_require__.t.bind(null,2242,7)).then((function(_ref3){var Web3=_ref3.default;setWeb3(new Web3(provider))})).catch((function(error){return"An error occurred while loading Web3"}))}}),[infura,network]),Object(react.useEffect)((function(){address&&web3&&function fetchAvatar(address,network,web3){return new Promise((function(resolve,reject){return fetch(constants.d[network],{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n\t\t\t\t\tavatars(where: { id: "'+address.toLowerCase()+'" }) {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\turi,\n\t\t\t\t\t\thasNFT\n\t\t\t\t\t}\n\t\t\t\t}'})}).then((function(response){return response.json()})).then((function(_ref){return _ref.data.avatars[0]})).then((function(avatar){avatar?avatar.hasNFT?new web3.eth.Contract(constants.a,constants.b[network]).methods.getAvatar(address).call().then((function(uri){fetch(uri).then((function(response){return response.json()})).then((function(metadata){if(metadata.image||metadata.image_url){var _uri=metadata.image||metadata.image_url;resolve([_uri,avatar.uri!==_uri])}else resolve([avatar.uri,!1])})).catch((function(){return resolve([avatar.uri,!1])}))})).catch((function(){return resolve([avatar.uri,!1])})):resolve([avatar.uri,!1]):reject({error:"No Avatar"})})).catch(reject)}))}(address,network,web3).then(setAvatar).catch((function(err){return console.log("Error: Fetch Avatar",err)}))}),[address,network,web3]),avatar}function BCRAvatar(_ref4){var infura=_ref4.infura,network=_ref4.network,address=_ref4.address,_ref4$className=_ref4.className,className=void 0===_ref4$className?"":_ref4$className,_ref4$placeholder=_ref4.placeholder,placeholder=void 0===_ref4$placeholder?"https://ipfs.io/ipfs/QmVaFasJTocvnuEobz7HkRpADB82z5gYA2xuZrgYFmMoQz":_ref4$placeholder,children=_ref4.children,props=_objectWithoutProperties(_ref4,_excluded),_useBCRAvatar2=_slicedToArray(useBCRAvatar({infura:infura,network:network,address:address}),2),avatar=_useBCRAvatar2[0],classes=[_useBCRAvatar2[1]?"bcravatar is-nft":"bcravatar",className];return Object(jsx_runtime.jsxs)("div",Object.assign({className:classes.join(" ")},props,{children:[Object(jsx_runtime.jsx)("a",{href:"https://www.bcravatar.com",target:"_blank",children:Object(jsx_runtime.jsx)("img",{className:"bcravatar__image",src:avatar||placeholder})}),Object(jsx_runtime.jsx)("div",{className:"bcravatar__content",children:children})]}))}BCRAvatar.displayName="BCRAvatar",BCRAvatar.__docgenInfo={description:"",methods:[],displayName:"BCRAvatar",props:{className:{defaultValue:{value:"''",computed:!1},required:!1},placeholder:{defaultValue:{value:"'https://ipfs.io/ipfs/QmVaFasJTocvnuEobz7HkRpADB82z5gYA2xuZrgYFmMoQz'",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BCRAvatar/BCRAvatar.js"]={name:"BCRAvatar",docgenInfo:BCRAvatar.__docgenInfo,path:"src/components/BCRAvatar/BCRAvatar.js"});var Wrapper=styled_components_browser_esm.a.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 10px 20px;\n\tbox-shadow: 1px 1px 3px;\n\n\t#logo {\n\t\theight: 30px;\n\t}\n\n\t.bcravatar {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\timg {\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin-right: 15px;\n\t\t}\n\t}\n"]))),INFURA_ID="9aa3d95b3bc440fa88ea12eaa4456161",address1="0x23ABfdBd2535aC77ea60a078707a9e5820b0Fff2",address2="0x543812C87700377b7b6D943142Cb57b1b4a05624",shorten=function shorten(addr){return addr.substr(0,6)+"..."+addr.substr(-4)};Object(client.storiesOf)("BCRAvatar").add("with image",(function(){return Object(jsx_runtime.jsxs)(Wrapper,{children:[Object(jsx_runtime.jsx)("img",{id:"logo",src:"https://raw.githubusercontent.com/Crypto-Utilitybia/react-bcravatar/main/public/crypto-utilitybia.png",alt:"Crypto Utilitybia"}),Object(jsx_runtime.jsx)(BCRAvatar,{infura:INFURA_ID,network:4,address:address1,children:shorten(address1)})]})})).add("with nft",(function(){return Object(jsx_runtime.jsxs)(Wrapper,{children:[Object(jsx_runtime.jsx)("img",{id:"logo",src:"https://raw.githubusercontent.com/Crypto-Utilitybia/react-bcravatar/main/public/crypto-utilitybia.png",alt:"Crypto Utilitybia"}),Object(jsx_runtime.jsx)(BCRAvatar,{infura:INFURA_ID,network:4,address:address2,children:shorten(address2)})]})}))},1817:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(351);var _templateObject,react=__webpack_require__(1),styled_components_browser_esm=__webpack_require__(354),client=__webpack_require__(135),constants=(__webpack_require__(903),__webpack_require__(540),__webpack_require__(904),__webpack_require__(905),__webpack_require__(917),__webpack_require__(350),__webpack_require__(550),__webpack_require__(906),__webpack_require__(907),__webpack_require__(527),__webpack_require__(912),__webpack_require__(913),__webpack_require__(548),__webpack_require__(918),__webpack_require__(919),__webpack_require__(91)),jsx_runtime=__webpack_require__(22),_excluded=["network","address","className","placeholder"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useBCRProfile(_ref2){var network=_ref2.network,address=_ref2.address,_useState2=_slicedToArray(Object(react.useState)([null,null]),2),profile=_useState2[0],setProfile=_useState2[1];return Object(react.useEffect)((function(){address&&constants.d[network]&&function fetchProfile(address,network,web3){return new Promise((function(resolve,reject){return fetch(constants.d[network],{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'{\n\t\t\t\t\tprofiles (where: { id: "'+address.toLowerCase()+'" }) {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\turi\n\t\t\t\t\t}\n\t\t\t\t}'})}).then((function(response){return response.json()})).then((function(_ref){return _ref.data.profiles[0]})).then((function(profile){profile?fetch(profile.uri).then((function(response){return response.json()})).then((function(data){resolve([data,null])})).catch(reject):reject({error:"No Profile"})})).catch(reject)}))}(address,network).then(setProfile).catch((function(err){return setProfile([null,err])}))}),[address,network]),profile}function BCRProfileExample(_ref3){var network=_ref3.network,address=_ref3.address,_ref3$className=_ref3.className,className=void 0===_ref3$className?"":_ref3$className,props=(_ref3.placeholder,_objectWithoutProperties(_ref3,_excluded)),_useBCRProfile2=_slicedToArray(useBCRProfile({network:network,address:address}),2),profile=_useBCRProfile2[0],error=_useBCRProfile2[1],loading=!profile&&!error,classes=[error?"bcrprofile error":"bcrprofile",className];return Object(jsx_runtime.jsx)("pre",Object.assign({className:classes.join(" ")},props,{children:loading?"Loading...":error?JSON.stringify(error,null,4):JSON.stringify(profile,null,4)}))}BCRProfileExample.displayName="BCRProfileExample",BCRProfileExample.__docgenInfo={description:"",methods:[],displayName:"BCRProfileExample",props:{className:{defaultValue:{value:"''",computed:!1},required:!1},placeholder:{defaultValue:{value:"'https://ipfs.io/ipfs/QmVaFasJTocvnuEobz7HkRpADB82z5gYA2xuZrgYFmMoQz'",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/BCRProfile/BCRProfile.js"]={name:"BCRProfileExample",docgenInfo:BCRProfileExample.__docgenInfo,path:"src/components/BCRProfile/BCRProfile.js"});var Wrapper=styled_components_browser_esm.a.div(_templateObject||(_templateObject=function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}(["\n\tmargin: 10px 20px;\n\tbox-shadow: 1px 1px 3px;\n\n\t.bcrprofile {\n\t\tpadding: 10px 20px;\n\t}\n"]))),INFURA_ID="9aa3d95b3bc440fa88ea12eaa4456161";Object(client.storiesOf)("BCRProfile").add("with profile",(function(){return Object(jsx_runtime.jsx)(Wrapper,{children:Object(jsx_runtime.jsx)(BCRProfileExample,{infura:INFURA_ID,network:4,address:"0x23ABfdBd2535aC77ea60a078707a9e5820b0Fff2"})})})).add("without profile",(function(){return Object(jsx_runtime.jsx)(Wrapper,{children:Object(jsx_runtime.jsx)(BCRProfileExample,{infura:INFURA_ID,network:4,address:"0x543812C87700377b7b6D943142Cb57b1b4a05624"})})}))},554:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(894),__webpack_require__(896),__webpack_require__(548),__webpack_require__(350),__webpack_require__(550);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(135),req=__webpack_require__(1794);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(652)(module))},91:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return infuras})),__webpack_require__.d(__webpack_exports__,"b",(function(){return contracts})),__webpack_require__.d(__webpack_exports__,"a",(function(){return contractABI})),__webpack_require__.d(__webpack_exports__,"d",(function(){return subgraphs}));var infuras={1:"https://mainnet.infura.io/v3/",4:"https://rinkeby.infura.io/v3/",137:"https://polygon-mainnet.infura.io/v3/"},contracts={1:"",4:"0x5F958E9361397e226468a905508238B634a254C5",137:""},contractABI=[{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getAvatar",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],subgraphs={1:"",4:"https://api.studio.thegraph.com/query/2120/bcravatar-rinkeby/1.1.2",137:""}},937:function(module,exports,__webpack_require__){__webpack_require__(938),__webpack_require__(1291),__webpack_require__(1292),module.exports=__webpack_require__(1780)}},[[937,1,2]]]);